<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cgv: cgv::gui::vr_server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cgv
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcgv_1_1gui_1_1vr__server.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classcgv_1_1gui_1_1vr__server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cgv::gui::vr_server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>server for vr events  
 <a href="classcgv_1_1gui_1_1vr__server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="vr__server_8h_source.html">vr_server.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a838d63f1246551bfab833b89fdd5500b"><td class="memItemLeft" align="right" valign="top"><a id="a838d63f1246551bfab833b89fdd5500b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a838d63f1246551bfab833b89fdd5500b">vr_server</a> ()</td></tr>
<tr class="memdesc:a838d63f1246551bfab833b89fdd5500b"><td class="mdescLeft">&#160;</td><td class="mdescRight">construct server with default configuration <br /></td></tr>
<tr class="separator:a838d63f1246551bfab833b89fdd5500b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0f7acaf0f2b637aac991331b2a9616"><td class="memItemLeft" align="right" valign="top"><a id="afe0f7acaf0f2b637aac991331b2a9616"></a>
<a class="el" href="namespacecgv_1_1gui.html#adf175441c50e1ab96818ddaf9fb700cd">VREventTypeFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#afe0f7acaf0f2b637aac991331b2a9616">get_event_type_flags</a> () const</td></tr>
<tr class="memdesc:afe0f7acaf0f2b637aac991331b2a9616"><td class="mdescLeft">&#160;</td><td class="mdescRight">query the currently set event type flags <br /></td></tr>
<tr class="separator:afe0f7acaf0f2b637aac991331b2a9616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eede4d0035c759cdccbab8a1134ee9f"><td class="memItemLeft" align="right" valign="top"><a id="a8eede4d0035c759cdccbab8a1134ee9f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a8eede4d0035c759cdccbab8a1134ee9f">set_event_type_flags</a> (<a class="el" href="namespacecgv_1_1gui.html#adf175441c50e1ab96818ddaf9fb700cd">VREventTypeFlags</a> flags)</td></tr>
<tr class="memdesc:a8eede4d0035c759cdccbab8a1134ee9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the event type flags of to be emitted events <br /></td></tr>
<tr class="separator:a8eede4d0035c759cdccbab8a1134ee9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb845a6500b99fcd889caed7f653000c"><td class="memItemLeft" align="right" valign="top"><a id="adb845a6500b99fcd889caed7f653000c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#adb845a6500b99fcd889caed7f653000c">set_device_scan_interval</a> (double duration)</td></tr>
<tr class="memdesc:adb845a6500b99fcd889caed7f653000c"><td class="mdescLeft">&#160;</td><td class="mdescRight">set time interval in seconds to check for device connection changes <br /></td></tr>
<tr class="separator:adb845a6500b99fcd889caed7f653000c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ff867372c74b10f5dae8683b271c77"><td class="memItemLeft" align="right" valign="top"><a id="ae0ff867372c74b10f5dae8683b271c77"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae0ff867372c74b10f5dae8683b271c77">get_device_scan_interval</a> () const</td></tr>
<tr class="memdesc:ae0ff867372c74b10f5dae8683b271c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the time interval in seconds to check for device connection changes <br /></td></tr>
<tr class="separator:ae0ff867372c74b10f5dae8683b271c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ccf8f33c17f6e67e3ee4711ae339ab"><td class="memItemLeft" align="right" valign="top"><a id="a32ccf8f33c17f6e67e3ee4711ae339ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a32ccf8f33c17f6e67e3ee4711ae339ab">check_device_changes</a> (double time)</td></tr>
<tr class="memdesc:a32ccf8f33c17f6e67e3ee4711ae339ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">check which vr_kits are present and emit on_device_change events <br /></td></tr>
<tr class="separator:a32ccf8f33c17f6e67e3ee4711ae339ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad978b353af020e60d3dd2fe9c84557a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#ad978b353af020e60d3dd2fe9c84557a0">check_and_emit_events</a> (double time)</td></tr>
<tr class="memdesc:ad978b353af020e60d3dd2fe9c84557a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">check which vr_kits are present, query their current states and dispatch events through on_event, on_status_change and on_device_change signals  <a href="classcgv_1_1gui_1_1vr__server.html#ad978b353af020e60d3dd2fe9c84557a0">More...</a><br /></td></tr>
<tr class="separator:ad978b353af020e60d3dd2fe9c84557a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae637df03a763ffafc7c94fde5523ce7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae637df03a763ffafc7c94fde5523ce7b">check_new_state</a> (void *kit_handle, const <a class="el" href="structvr_1_1vr__kit__state.html">vr::vr_kit_state</a> &amp;new_state, double time)</td></tr>
<tr class="memdesc:ae637df03a763ffafc7c94fde5523ce7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">in case the current vr state of a kit had been queried somewhere else, use this function to communicate the new state to the server; return whether kit_handle had been seen by server before  <a href="classcgv_1_1gui_1_1vr__server.html#ae637df03a763ffafc7c94fde5523ce7b">More...</a><br /></td></tr>
<tr class="separator:ae637df03a763ffafc7c94fde5523ce7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550e4e029a0b8fd1fc34c1269da12bdd"><td class="memItemLeft" align="right" valign="top"><a id="a550e4e029a0b8fd1fc34c1269da12bdd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a550e4e029a0b8fd1fc34c1269da12bdd">check_new_state</a> (void *kit_handle, const <a class="el" href="structvr_1_1vr__kit__state.html">vr::vr_kit_state</a> &amp;new_state, double time, <a class="el" href="namespacecgv_1_1gui.html#adf175441c50e1ab96818ddaf9fb700cd">VREventTypeFlags</a> flags)</td></tr>
<tr class="memdesc:a550e4e029a0b8fd1fc34c1269da12bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as previous function but with overwrite of flags <br /></td></tr>
<tr class="separator:a550e4e029a0b8fd1fc34c1269da12bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365078bca990247637fc58478de5d987"><td class="memItemLeft" align="right" valign="top"><a id="a365078bca990247637fc58478de5d987"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a365078bca990247637fc58478de5d987">grab_focus</a> (<a class="el" href="namespacecgv_1_1gui.html#aaefc169b4e9eeb6e2668447c661b22bd">VRFocus</a> focus, <a class="el" href="classcgv_1_1gui_1_1event__handler.html">event_handler</a> *handler)</td></tr>
<tr class="memdesc:a365078bca990247637fc58478de5d987"><td class="mdescLeft">&#160;</td><td class="mdescRight">grab the event focus to the given event handler and return whether this was possible <br /></td></tr>
<tr class="separator:a365078bca990247637fc58478de5d987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397ac920eeb0a5d9b4afc183d0a03bac"><td class="memItemLeft" align="right" valign="top"><a id="a397ac920eeb0a5d9b4afc183d0a03bac"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a397ac920eeb0a5d9b4afc183d0a03bac">release_focus</a> (<a class="el" href="classcgv_1_1gui_1_1event__handler.html">event_handler</a> *handler)</td></tr>
<tr class="memdesc:a397ac920eeb0a5d9b4afc183d0a03bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">release focus of handler and return whether handler had the focus <br /></td></tr>
<tr class="separator:a397ac920eeb0a5d9b4afc183d0a03bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0891acc5221cdb487ad83702097c4ca6"><td class="memItemLeft" align="right" valign="top"><a id="a0891acc5221cdb487ad83702097c4ca6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a0891acc5221cdb487ad83702097c4ca6">dispatch</a> (<a class="el" href="classcgv_1_1gui_1_1event.html">cgv::gui::event</a> &amp;e)</td></tr>
<tr class="memdesc:a0891acc5221cdb487ad83702097c4ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">dispatch an event to focus handler and or signal attachments <br /></td></tr>
<tr class="separator:a0891acc5221cdb487ad83702097c4ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1870ff57b00edbe58800b0490527fc83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a1870ff57b00edbe58800b0490527fc83">enable_log</a> (const std::string fn=&quot;&quot;, const bool in_memory_log=true, const int filter=vr::vr_log::F_ALL, const int kit_index=0)</td></tr>
<tr class="separator:a1870ff57b00edbe58800b0490527fc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286719fcc0c62ef0315218cfa51f9821"><td class="memItemLeft" align="right" valign="top"><a id="a286719fcc0c62ef0315218cfa51f9821"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a286719fcc0c62ef0315218cfa51f9821">disable_log</a> (const int kit_index=0)</td></tr>
<tr class="memdesc:a286719fcc0c62ef0315218cfa51f9821"><td class="mdescLeft">&#160;</td><td class="mdescRight">disable logging and close log file <br /></td></tr>
<tr class="separator:a286719fcc0c62ef0315218cfa51f9821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11d7cdff65f16b05c4f0b597adc9df4"><td class="memItemLeft" align="right" valign="top"><a id="ab11d7cdff65f16b05c4f0b597adc9df4"></a>
<a class="el" href="classvr_1_1vr__log.html">vr::vr_log</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#ab11d7cdff65f16b05c4f0b597adc9df4">ref_log</a> (const int kit_index=0)</td></tr>
<tr class="memdesc:ab11d7cdff65f16b05c4f0b597adc9df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">return a reference to the used vr_log object <br /></td></tr>
<tr class="separator:ab11d7cdff65f16b05c4f0b597adc9df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556d4e3193ec4dbbcf4c62766b029b38"><td class="memItemLeft" align="right" valign="top"><a id="a556d4e3193ec4dbbcf4c62766b029b38"></a>
<a class="el" href="classcgv_1_1data_1_1ref__ptr.html">cgv::data::ref_ptr</a>&lt; <a class="el" href="classvr_1_1vr__log.html">vr::vr_log</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a556d4e3193ec4dbbcf4c62766b029b38">get_log</a> (const int kit_index=0)</td></tr>
<tr class="memdesc:a556d4e3193ec4dbbcf4c62766b029b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a pointer to the active log data container, meant for extending the lifetime of the log data beyond a new enable_log call <br /></td></tr>
<tr class="separator:a556d4e3193ec4dbbcf4c62766b029b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aff611e8278a6f1ee7eec1843366b9fbe"><td class="memItemLeft" align="right" valign="top"><a id="aff611e8278a6f1ee7eec1843366b9fbe"></a>
cgv::signal::bool_signal&lt; <a class="el" href="classcgv_1_1gui_1_1event.html">cgv::gui::event</a> &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe">on_event</a></td></tr>
<tr class="memdesc:aff611e8278a6f1ee7eec1843366b9fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal emitted to dispatch events <br /></td></tr>
<tr class="separator:aff611e8278a6f1ee7eec1843366b9fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb09269c3ebb01fc090013c51c6e1df5"><td class="memItemLeft" align="right" valign="top"><a id="abb09269c3ebb01fc090013c51c6e1df5"></a>
cgv::signal::signal&lt; void *, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#abb09269c3ebb01fc090013c51c6e1df5">on_device_change</a></td></tr>
<tr class="memdesc:abb09269c3ebb01fc090013c51c6e1df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal emitted to notify about device changes, first argument is handle and second a flag telling whether device got connected or if false disconnected <br /></td></tr>
<tr class="separator:abb09269c3ebb01fc090013c51c6e1df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2179af42e2bf04ef58bdc2d5318d5b77"><td class="memItemLeft" align="right" valign="top"><a id="a2179af42e2bf04ef58bdc2d5318d5b77"></a>
cgv::signal::signal&lt; void *, int, <a class="el" href="namespacevr.html#a97f62fa341bd860ba107738084e5cc08">vr::VRStatus</a>, <a class="el" href="namespacevr.html#a97f62fa341bd860ba107738084e5cc08">vr::VRStatus</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#a2179af42e2bf04ef58bdc2d5318d5b77">on_status_change</a></td></tr>
<tr class="memdesc:a2179af42e2bf04ef58bdc2d5318d5b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal emitted to notify about status changes of trackables, first argument is handle, second -1 for hmd + 0|1 for left|right controller, third is old status and fourth new status <br /></td></tr>
<tr class="separator:a2179af42e2bf04ef58bdc2d5318d5b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad65ac9bc01994e54bf7340e87341ff47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgv_1_1gui_1_1vr__server.html#ad65ac9bc01994e54bf7340e87341ff47">emit_events_and_update_state</a> (void *kit_handle, const <a class="el" href="structvr_1_1vr__kit__state.html">vr::vr_kit_state</a> &amp;new_state, int kit_index, <a class="el" href="namespacecgv_1_1gui.html#adf175441c50e1ab96818ddaf9fb700cd">VREventTypeFlags</a> flags, double time)</td></tr>
<tr class="separator:ad65ac9bc01994e54bf7340e87341ff47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>server for vr events </p>
<p>It keeps the previous state of each vr kit and compares it with current state. In case of state changes, the server can emit device change, status change, key, throttle, stick and pose events. For key, throttle, stick and pose events, the classes <a class="el" href="classcgv_1_1gui_1_1vr__key__event.html" title="vr key events use the key codes defined in vr::VRKeys">cgv::gui::vr_key_event</a>, <a class="el" href="classcgv_1_1gui_1_1vr__throttle__event.html" title="vr extension of throttle event">cgv::gui::vr_throttle_event</a>, <a class="el" href="classcgv_1_1gui_1_1vr__stick__event.html" title="vr extension of stick event">cgv::gui::vr_stick_event</a>, and <a class="el" href="classcgv_1_1gui_1_1vr__pose__event.html" title="vr extension of pose events">cgv::gui::vr_pose_event</a> are used and the event flag <a class="el" href="namespacecgv_1_1gui.html#ae38dbc5a70de43f0304bf39dcf21175aa62bd9726fe3f52c40bade752ad5451c8" title="whether event is from VR kit">cgv::gui::EF_VR</a> is set to mark it as vr event. To process for example a stick event in the <a class="el" href="classcgv_1_1gui_1_1event__handler.html#aeef89567e820d30fc538b9be22083403" title="overload and implement this method to handle events">cgv::gui::event_handler::handle()</a> function, the following shows a code sample: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cg_vr/vr_server.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cgv/gui/event_handler.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> handle(<a class="code" href="classcgv_1_1gui_1_1event.html">cgv::gui::event</a>&amp; e)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// check if vr event flag is not set and don&#39;t process events in this case</span></div>
<div class="line">    <span class="keywordflow">if</span> ((e.<a class="code" href="classcgv_1_1gui_1_1event.html#aab1416286305286b19ebfccc165abf67">get_flags</a>() &amp; <a class="code" href="namespacecgv_1_1gui.html#ae38dbc5a70de43f0304bf39dcf21175aa62bd9726fe3f52c40bade752ad5451c8">cgv::gui::EF_VR</a>) == 0)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    <span class="comment">// check event id</span></div>
<div class="line">    <span class="keywordflow">if</span> (e.<a class="code" href="classcgv_1_1gui_1_1event.html#a3a0495e3d6d0a3adf1148158d55b035e">get_kind</a>() == <a class="code" href="namespacecgv_1_1gui.html#ac96154d54fa346efee6cef81b584e8fea59457c6b6b98bef1fea808e3cc5744d9">cgv::gui::EID_STICK</a>) {</div>
<div class="line">        <a class="code" href="classcgv_1_1gui_1_1vr__stick__event.html">cgv::gui::vr_stick_event</a>&amp; vrse = <span class="keyword">static_cast&lt;</span><a class="code" href="classcgv_1_1gui_1_1vr__stick__event.html">cgv::gui::vr_stick_event</a>&amp;<span class="keyword">&gt;</span>(e);</div>
<div class="line">        <span class="keywordflow">switch</span> (vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#ab6f7b9fdf6938ee54dad7db24b85876d">get_action</a>()) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea25b66c8996d819d374070a55a741f82f">cgv::gui::SA_TOUCH</a>:</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea1caa345db8fc6ab68a78f9053aa19682">cgv::gui::SA_PRESS</a>:</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea9aa56f3d418705f30d93ec4ba569b3b6">cgv::gui::SA_UNPRESS</a>:</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea0af1db606a1d997d75bbaff3018decac">cgv::gui::SA_RELEASE</a>:</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;stick &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a0ef8ca83a1676aa08a3c83da3db6d37d">get_stick_index</a>()</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; of controller &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a84522a2e57dec950f24d8d3ab3b0bdcc">get_controller_index</a>()</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="namespacecgv_1_1gui.html#a1beaba7bf61160033fadf57a5c2b200c">cgv::gui::get_stick_action_string</a>(vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#ab6f7b9fdf6938ee54dad7db24b85876d">get_action</a>())</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; at &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#ad209f67c4f9856e50d64aad731a3ac97">get_x</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a2de6c3501e4d96617ffe0e4422f05af6">get_y</a>() &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceeae96813b8bb9c543c972cedfde000d42b">cgv::gui::SA_MOVE</a>:</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea0019c772533e243b9ef15697a8f066fd">cgv::gui::SA_DRAG</a>:</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;stick &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a0ef8ca83a1676aa08a3c83da3db6d37d">get_stick_index</a>()</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; of controller &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a84522a2e57dec950f24d8d3ab3b0bdcc">get_controller_index</a>()</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="namespacecgv_1_1gui.html#a1beaba7bf61160033fadf57a5c2b200c">cgv::gui::get_stick_action_string</a>(vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#ab6f7b9fdf6938ee54dad7db24b85876d">get_action</a>())</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a22d7a4ee59165b6b5d95d272777d98cb">get_last_x</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a83294b8429c8ef0eee2e2814ab895233">get_last_y</a>()</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#ad209f67c4f9856e50d64aad731a3ac97">get_x</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; vrse.<a class="code" href="classcgv_1_1gui_1_1stick__event.html#a2de6c3501e4d96617ffe0e4422f05af6">get_y</a>() &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscgv_1_1gui_1_1event_html"><div class="ttname"><a href="classcgv_1_1gui_1_1event.html">cgv::gui::event</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00058">event.h:59</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1event_html_a3a0495e3d6d0a3adf1148158d55b035e"><div class="ttname"><a href="classcgv_1_1gui_1_1event.html#a3a0495e3d6d0a3adf1148158d55b035e">cgv::gui::event::get_kind</a></div><div class="ttdeci">unsigned get_kind() const</div><div class="ttdoc">return, what kind of event this is, typically a value from the EventId enum</div><div class="ttdef"><b>Definition:</b> <a href="event_8cxx_source.html#l00202">event.cxx:202</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1event_html_aab1416286305286b19ebfccc165abf67"><div class="ttname"><a href="classcgv_1_1gui_1_1event.html#aab1416286305286b19ebfccc165abf67">cgv::gui::event::get_flags</a></div><div class="ttdeci">unsigned get_flags() const</div><div class="ttdoc">return the event flags</div><div class="ttdef"><b>Definition:</b> <a href="event_8cxx_source.html#l00214">event.cxx:214</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_a0ef8ca83a1676aa08a3c83da3db6d37d"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#a0ef8ca83a1676aa08a3c83da3db6d37d">cgv::gui::stick_event::get_stick_index</a></div><div class="ttdeci">unsigned get_stick_index() const</div><div class="ttdoc">return stick index</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00039">stick_event.cxx:39</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_a22d7a4ee59165b6b5d95d272777d98cb"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#a22d7a4ee59165b6b5d95d272777d98cb">cgv::gui::stick_event::get_last_x</a></div><div class="ttdeci">float get_last_x() const</div><div class="ttdoc">return the last x value of the stick</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00107">stick_event.cxx:107</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_a2de6c3501e4d96617ffe0e4422f05af6"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#a2de6c3501e4d96617ffe0e4422f05af6">cgv::gui::stick_event::get_y</a></div><div class="ttdeci">float get_y() const</div><div class="ttdoc">return the current y value of the stick</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00074">stick_event.cxx:74</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_a83294b8429c8ef0eee2e2814ab895233"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#a83294b8429c8ef0eee2e2814ab895233">cgv::gui::stick_event::get_last_y</a></div><div class="ttdeci">float get_last_y() const</div><div class="ttdoc">return the last y value of the stick</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00112">stick_event.cxx:112</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_a84522a2e57dec950f24d8d3ab3b0bdcc"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#a84522a2e57dec950f24d8d3ab3b0bdcc">cgv::gui::stick_event::get_controller_index</a></div><div class="ttdeci">unsigned get_controller_index() const</div><div class="ttdoc">return controller index</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00034">stick_event.cxx:34</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_ab6f7b9fdf6938ee54dad7db24b85876d"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#ab6f7b9fdf6938ee54dad7db24b85876d">cgv::gui::stick_event::get_action</a></div><div class="ttdeci">StickAction get_action() const</div><div class="ttdoc">return the stick action</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00063">stick_event.cxx:63</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1stick__event_html_ad209f67c4f9856e50d64aad731a3ac97"><div class="ttname"><a href="classcgv_1_1gui_1_1stick__event.html#ad209f67c4f9856e50d64aad731a3ac97">cgv::gui::stick_event::get_x</a></div><div class="ttdeci">float get_x() const</div><div class="ttdoc">return the current x value of the stick</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00069">stick_event.cxx:69</a></div></div>
<div class="ttc" id="aclasscgv_1_1gui_1_1vr__stick__event_html"><div class="ttname"><a href="classcgv_1_1gui_1_1vr__stick__event.html">cgv::gui::vr_stick_event</a></div><div class="ttdoc">vr extension of stick event</div><div class="ttdef"><b>Definition:</b> <a href="vr__events_8h_source.html#l00077">vr_events.h:78</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a1beaba7bf61160033fadf57a5c2b200c"><div class="ttname"><a href="namespacecgv_1_1gui.html#a1beaba7bf61160033fadf57a5c2b200c">cgv::gui::get_stick_action_string</a></div><div class="ttdeci">std::string get_stick_action_string(StickAction action)</div><div class="ttdoc">convert a key action into a readable string</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8cxx_source.html#l00008">stick_event.cxx:8</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceea0019c772533e243b9ef15697a8f066fd"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea0019c772533e243b9ef15697a8f066fd">cgv::gui::SA_DRAG</a></div><div class="ttdeci">@ SA_DRAG</div><div class="ttdoc">stick moved in pressed state</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00022">stick_event.h:21</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceea0af1db606a1d997d75bbaff3018decac"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea0af1db606a1d997d75bbaff3018decac">cgv::gui::SA_RELEASE</a></div><div class="ttdeci">@ SA_RELEASE</div><div class="ttdoc">stick release action</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00019">stick_event.h:19</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceea1caa345db8fc6ab68a78f9053aa19682"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea1caa345db8fc6ab68a78f9053aa19682">cgv::gui::SA_PRESS</a></div><div class="ttdeci">@ SA_PRESS</div><div class="ttdoc">stick press action</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00017">stick_event.h:17</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceea25b66c8996d819d374070a55a741f82f"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea25b66c8996d819d374070a55a741f82f">cgv::gui::SA_TOUCH</a></div><div class="ttdeci">@ SA_TOUCH</div><div class="ttdoc">stick touch action</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00016">stick_event.h:16</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceea9aa56f3d418705f30d93ec4ba569b3b6"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceea9aa56f3d418705f30d93ec4ba569b3b6">cgv::gui::SA_UNPRESS</a></div><div class="ttdeci">@ SA_UNPRESS</div><div class="ttdoc">stick unpress repeated press action</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00018">stick_event.h:18</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_a7f6413c952cec27ea2f560faf278bceeae96813b8bb9c543c972cedfde000d42b"><div class="ttname"><a href="namespacecgv_1_1gui.html#a7f6413c952cec27ea2f560faf278bceeae96813b8bb9c543c972cedfde000d42b">cgv::gui::SA_MOVE</a></div><div class="ttdeci">@ SA_MOVE</div><div class="ttdoc">stick moved with respect to last event</div><div class="ttdef"><b>Definition:</b> <a href="stick__event_8h_source.html#l00020">stick_event.h:20</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_ac96154d54fa346efee6cef81b584e8fea59457c6b6b98bef1fea808e3cc5744d9"><div class="ttname"><a href="namespacecgv_1_1gui.html#ac96154d54fa346efee6cef81b584e8fea59457c6b6b98bef1fea808e3cc5744d9">cgv::gui::EID_STICK</a></div><div class="ttdeci">@ EID_STICK</div><div class="ttdoc">id of a stick event describing a two axis controller that optionally can be touched and pressed</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00020">event.h:20</a></div></div>
<div class="ttc" id="anamespacecgv_1_1gui_html_ae38dbc5a70de43f0304bf39dcf21175aa62bd9726fe3f52c40bade752ad5451c8"><div class="ttname"><a href="namespacecgv_1_1gui.html#ae38dbc5a70de43f0304bf39dcf21175aa62bd9726fe3f52c40bade752ad5451c8">cgv::gui::EF_VR</a></div><div class="ttdeci">@ EF_VR</div><div class="ttdoc">whether event is from VR kit</div><div class="ttdef"><b>Definition:</b> <a href="event_8h_source.html#l00035">event.h:35</a></div></div>
</div><!-- fragment --><p> Which events are emitted by the server can be configured with the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#a8eede4d0035c759cdccbab8a1134ee9f" title="set the event type flags of to be emitted events">set_event_type_flags()</a> function. Device change events are emitted with the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#abb09269c3ebb01fc090013c51c6e1df5" title="signal emitted to notify about device changes, first argument is handle and second a flag telling whe...">vr_server::on_device_change</a> signal, status change events with the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#a2179af42e2bf04ef58bdc2d5318d5b77" title="signal emitted to notify about status changes of trackables, first argument is handle,...">vr_server::on_status_change</a> signal and all others via the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe" title="signal emitted to dispatch events">vr_server::on_event</a> signal.</p>
<p>There is a singleton <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a> instance provided with <a class="el" href="namespacecgv_1_1gui.html#a6258ed6030a5c4d826fc85aeb2557035" title="return a reference to gamepad server singleton">cgv::gui::ref_vr_server()</a>. The current vr_kit states are polled with the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ad978b353af020e60d3dd2fe9c84557a0" title="check which vr_kits are present, query their current states and dispatch events through on_event,...">check_and_emit_events()</a> or in case some other class has queried the states with the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae637df03a763ffafc7c94fde5523ce7b" title="in case the current vr state of a kit had been queried somewhere else, use this function to communica...">check_new_state()</a> functions for each vr_kit separately. In an interval of <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae0ff867372c74b10f5dae8683b271c77" title="return the time interval in seconds to check for device connection changes">get_device_scan_interval()</a> seconds the vr_kits are scanned again to detect device changes.</p>
<p>The <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a> can be used in three ways. In all cases you have to connect directly to the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#abb09269c3ebb01fc090013c51c6e1df5" title="signal emitted to notify about device changes, first argument is handle and second a flag telling whe...">vr_server::on_device_change</a> or <a class="el" href="classcgv_1_1gui_1_1vr__server.html#a2179af42e2bf04ef58bdc2d5318d5b77" title="signal emitted to notify about status changes of trackables, first argument is handle,...">vr_server::on_status_change</a> signals in order to receive device change or status change events.</p>
<ol type="1">
<li>call the <a class="el" href="namespacecgv_1_1gui.html#ae0975ed87d1a75c654c88184288a6543" title="connect the gamepad server to the given window or the first window of the application,...">cgv::gui::connect_vr_server()</a> function in the constructor of one of your plugin classes with <em>false</em> as function parameter. Then a predefined callback function is attached to the animation trigger singleton (accessed through the header &lt;<a class="el" href="trigger_8h_source.html">cgv/gui/trigger.h</a>&gt;) that calls the <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a> singleton's <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ad978b353af020e60d3dd2fe9c84557a0" title="check which vr_kits are present, query their current states and dispatch events through on_event,...">check_and_emit_events()</a> function with 60Hz. The <a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe" title="signal emitted to dispatch events">vr_server::on_event</a> signal is attached to a callback that dispatches the events with the standard event processing of the framework. All registered classes derived from <a class="el" href="classcgv_1_1gui_1_1event__handler.html" title="interface for all classes that want to receive events">cgv::gui::event_handler</a> will see the events and can process them.</li>
<li>call the <a class="el" href="namespacecgv_1_1gui.html#ae0975ed87d1a75c654c88184288a6543" title="connect the gamepad server to the given window or the first window of the application,...">cgv::gui::connect_vr_server()</a> function in the constructor of one of your plugin classes with <em>true</em> as function parameter. Again a callback function is attached to the animation trigger singleton but it calls the <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a> singleton's <a class="el" href="classcgv_1_1gui_1_1vr__server.html#a32ccf8f33c17f6e67e3ee4711ae339ab" title="check which vr_kits are present and emit on_device_change events">check_device_changes()</a> such that only device change events are generated. In this case you or the crg_vr_view plugin have to poll the vr_kit states and call the <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a>'s <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae637df03a763ffafc7c94fde5523ce7b" title="in case the current vr state of a kit had been queried somewhere else, use this function to communica...">check_new_state()</a> function. Again the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe" title="signal emitted to dispatch events">vr_server::on_event</a> signal is attached to a callback that dispatches the events to all registered <a class="el" href="classcgv_1_1gui_1_1event__handler.html" title="interface for all classes that want to receive events">cgv::gui::event_handler</a> instances.</li>
<li>connect directly to the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe" title="signal emitted to dispatch events">vr_server::on_event</a> signal and a timer event function to the animation trigger. Then you need to call the <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a>'s <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ad978b353af020e60d3dd2fe9c84557a0" title="check which vr_kits are present, query their current states and dispatch events through on_event,...">check_and_emit_events()</a> or <a class="el" href="classcgv_1_1gui_1_1vr__server.html#ae637df03a763ffafc7c94fde5523ce7b" title="in case the current vr state of a kit had been queried somewhere else, use this function to communica...">check_new_state()</a> function in your timer event function. In this approach all vr events are dispatched only to the callback function that you attach to the <a class="el" href="classcgv_1_1gui_1_1vr__server.html#aff611e8278a6f1ee7eec1843366b9fbe" title="signal emitted to dispatch events">vr_server::on_event</a> signal of the <a class="el" href="classcgv_1_1gui_1_1vr__server.html" title="server for vr events">vr_server</a> singleton. </li>
</ol>

<p class="definition">Definition at line <a class="el" href="vr__server_8h_source.html#l00135">135</a> of file <a class="el" href="vr__server_8h_source.html">vr_server.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad978b353af020e60d3dd2fe9c84557a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad978b353af020e60d3dd2fe9c84557a0">&#9670;&nbsp;</a></span>check_and_emit_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cgv::gui::vr_server::check_and_emit_events </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check which vr_kits are present, query their current states and dispatch events through on_event, on_status_change and on_device_change signals </p>
<p>check enabled gamepad devices for new events and dispatch them through the on_event signal </p>

<p class="definition">Definition at line <a class="el" href="vr__server_8cxx_source.html#l00320">320</a> of file <a class="el" href="vr__server_8cxx_source.html">vr_server.cxx</a>.</p>

<p class="reference">References <a class="el" href="vr__server_8cxx_source.html#l00282">check_device_changes()</a>, <a class="el" href="vr__server_8cxx_source.html#l00100">emit_events_and_update_state()</a>, <a class="el" href="vr__driver_8cxx_source.html#l00212">vr::get_vr_kit()</a>, and <a class="el" href="vr__kit_8cxx_source.html#l00103">vr::vr_kit::query_state()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vr__server_8cxx_source.html#l00414">cgv::gui::connect_vr_server()</a>.</p>

</div>
</div>
<a id="ae637df03a763ffafc7c94fde5523ce7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae637df03a763ffafc7c94fde5523ce7b">&#9670;&nbsp;</a></span>check_new_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cgv::gui::vr_server::check_new_state </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kit_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvr_1_1vr__kit__state.html">vr::vr_kit_state</a> &amp;&#160;</td>
          <td class="paramname"><em>new_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>in case the current vr state of a kit had been queried somewhere else, use this function to communicate the new state to the server; return whether kit_handle had been seen by server before </p>
<p>in case the current vr state of a kit had been queried outside, use this function to communicate the new state to the server </p>

<p class="definition">Definition at line <a class="el" href="vr__server_8cxx_source.html#l00337">337</a> of file <a class="el" href="vr__server_8cxx_source.html">vr_server.cxx</a>.</p>

</div>
</div>
<a id="ad65ac9bc01994e54bf7340e87341ff47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65ac9bc01994e54bf7340e87341ff47">&#9670;&nbsp;</a></span>emit_events_and_update_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cgv::gui::vr_server::emit_events_and_update_state </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kit_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvr_1_1vr__kit__state.html">vr::vr_kit_state</a> &amp;&#160;</td>
          <td class="paramname"><em>new_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kit_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecgv_1_1gui.html#adf175441c50e1ab96818ddaf9fb700cd">VREventTypeFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>construct a throttle event from value and value change</p>

<p class="definition">Definition at line <a class="el" href="vr__server_8cxx_source.html#l00100">100</a> of file <a class="el" href="vr__server_8cxx_source.html">vr_server.cxx</a>.</p>

<p class="reference">References <a class="el" href="vr__state_8h_source.html#l00124">vr::vr_controller_state::axes</a>, <a class="el" href="vr__info_8h_source.html#l00152">vr::vr_kit_info::controller</a>, <a class="el" href="vr__state_8h_source.html#l00143">vr::vr_kit_state::controller</a>, <a class="el" href="vr__server_8cxx_source.html#l00351">dispatch()</a>, <a class="el" href="vr__kit_8cxx_source.html#l00126">vr::vr_kit::get_controller_input_config()</a>, <a class="el" href="vr__kit_8cxx_source.html#l00117">vr::vr_kit::get_device_info()</a>, <a class="el" href="vr__driver_8cxx_source.html#l00212">vr::get_vr_kit()</a>, <a class="el" href="vr__state_8h_source.html#l00141">vr::vr_kit_state::hmd</a>, <a class="el" href="vr__info_8h_source.html#l00128">vr::vr_controller_info::input_type</a>, <a class="el" href="key__event_8h_source.html#l00014">cgv::gui::KA_PRESS</a>, <a class="el" href="key__event_8h_source.html#l00013">cgv::gui::KA_RELEASE</a>, <a class="el" href="vr__state_8h_source.html#l00021">vr::max_nr_controller_inputs</a>, <a class="el" href="vr__state_8h_source.html#l00019">vr::max_nr_controllers</a>, <a class="el" href="vr__server_8h_source.html#l00185">on_status_change</a>, <a class="el" href="vr__state_8h_source.html#l00104">vr::vr_trackable_state::pose</a>, <a class="el" href="stick__event_8h_source.html#l00021">cgv::gui::SA_DRAG</a>, <a class="el" href="stick__event_8h_source.html#l00020">cgv::gui::SA_MOVE</a>, <a class="el" href="stick__event_8h_source.html#l00017">cgv::gui::SA_PRESS</a>, <a class="el" href="stick__event_8h_source.html#l00019">cgv::gui::SA_RELEASE</a>, <a class="el" href="stick__event_8h_source.html#l00016">cgv::gui::SA_TOUCH</a>, <a class="el" href="stick__event_8h_source.html#l00018">cgv::gui::SA_UNPRESS</a>, <a class="el" href="vr__state_8h_source.html#l00096">vr::vr_trackable_state::status</a>, <a class="el" href="vr__kit_8h_source.html#l00030">vr::controller_input_config::threshold</a>, <a class="el" href="vr__state_8h_source.html#l00045">vr::VR_A</a>, <a class="el" href="vr__state_8h_source.html#l00038">vr::VR_DPAD_DOWN</a>, <a class="el" href="vr__state_8h_source.html#l00040">vr::VR_DPAD_LEFT</a>, <a class="el" href="vr__state_8h_source.html#l00041">vr::VR_DPAD_RIGHT</a>, <a class="el" href="vr__state_8h_source.html#l00043">vr::VR_DPAD_UP</a>, <a class="el" href="vr__state_8h_source.html#l00036">vr::VR_GRIP</a>, <a class="el" href="vr__state_8h_source.html#l00047">vr::VR_INPUT0</a>, <a class="el" href="vr__state_8h_source.html#l00046">vr::VR_INPUT0_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00049">vr::VR_INPUT1</a>, <a class="el" href="vr__state_8h_source.html#l00048">vr::VR_INPUT1_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00051">vr::VR_INPUT2</a>, <a class="el" href="vr__state_8h_source.html#l00050">vr::VR_INPUT2_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00053">vr::VR_INPUT3</a>, <a class="el" href="vr__state_8h_source.html#l00052">vr::VR_INPUT3_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00055">vr::VR_INPUT4</a>, <a class="el" href="vr__state_8h_source.html#l00054">vr::VR_INPUT4_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00035">vr::VR_MENU</a>, <a class="el" href="vr__state_8h_source.html#l00056">vr::VR_PROXIMITY</a>, <a class="el" href="vr__state_8h_source.html#l00034">vr::VR_SYSTEM</a>, <a class="el" href="vr__server_8h_source.html#l00031">cgv::gui::VRE_KEY</a>, <a class="el" href="vr__server_8h_source.html#l00032">cgv::gui::VRE_ONE_AXIS</a>, <a class="el" href="vr__server_8h_source.html#l00034">cgv::gui::VRE_ONE_AXIS_GENERATES_KEY</a>, <a class="el" href="vr__server_8h_source.html#l00036">cgv::gui::VRE_POSE</a>, <a class="el" href="vr__server_8h_source.html#l00030">cgv::gui::VRE_STATUS</a>, <a class="el" href="vr__server_8h_source.html#l00033">cgv::gui::VRE_TWO_AXES</a>, <a class="el" href="vr__server_8h_source.html#l00035">cgv::gui::VRE_TWO_AXES_GENERATES_DPAD</a>, <a class="el" href="vr__state_8h_source.html#l00070">vr::VRF_A</a>, <a class="el" href="vr__state_8h_source.html#l00068">vr::VRF_DPAD_DOWN</a>, <a class="el" href="vr__state_8h_source.html#l00066">vr::VRF_DPAD_LEFT</a>, <a class="el" href="vr__state_8h_source.html#l00067">vr::VRF_DPAD_RIGHT</a>, <a class="el" href="vr__state_8h_source.html#l00069">vr::VRF_DPAD_UP</a>, <a class="el" href="vr__state_8h_source.html#l00065">vr::VRF_GRIP</a>, <a class="el" href="vr__state_8h_source.html#l00072">vr::VRF_INPUT0</a>, <a class="el" href="vr__state_8h_source.html#l00071">vr::VRF_INPUT0_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00074">vr::VRF_INPUT1</a>, <a class="el" href="vr__state_8h_source.html#l00073">vr::VRF_INPUT1_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00076">vr::VRF_INPUT2</a>, <a class="el" href="vr__state_8h_source.html#l00075">vr::VRF_INPUT2_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00078">vr::VRF_INPUT3</a>, <a class="el" href="vr__state_8h_source.html#l00077">vr::VRF_INPUT3_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00080">vr::VRF_INPUT4</a>, <a class="el" href="vr__state_8h_source.html#l00079">vr::VRF_INPUT4_TOUCH</a>, <a class="el" href="vr__state_8h_source.html#l00064">vr::VRF_MENU</a>, <a class="el" href="vr__state_8h_source.html#l00081">vr::VRF_PROXIMITY</a>, <a class="el" href="vr__state_8h_source.html#l00063">vr::VRF_SYSTEM</a>, <a class="el" href="vr__state_8h_source.html#l00086">vr::VRS_DETACHED</a>, and <a class="el" href="vr__state_8h_source.html#l00088">vr::VRS_TRACKED</a>.</p>

<p class="reference">Referenced by <a class="el" href="vr__server_8cxx_source.html#l00320">check_and_emit_events()</a>, and <a class="el" href="vr__server_8cxx_source.html#l00342">check_new_state()</a>.</p>

</div>
</div>
<a id="a1870ff57b00edbe58800b0490527fc83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1870ff57b00edbe58800b0490527fc83">&#9670;&nbsp;</a></span>enable_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cgv::gui::vr_server::enable_log </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>fn</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>in_memory_log</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>filter</em> = <code>vr::vr_log::F_ALL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kit_index</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>creates a logfile and activates logging of vr . </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>path to logfile. pass an empty string to disable writing to a log file </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="vr__server_8cxx_source.html#l00361">361</a> of file <a class="el" href="vr__server_8cxx_source.html">vr_server.cxx</a>.</p>

<p class="reference">References <a class="el" href="vr__log_8cxx_source.html#l00115">vr::vr_log::enable_in_memory_log()</a>, <a class="el" href="vr__log_8cxx_source.html#l00121">vr::vr_log::enable_ostream_log()</a>, <a class="el" href="vr__log_8cxx_source.html#l00300">vr::vr_log::lock_settings()</a>, and <a class="el" href="vr__log_8h_source.html#l00083">vr::vr_log::set_filter()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libs/cg_vr/<a class="el" href="vr__server_8h_source.html">vr_server.h</a></li>
<li>libs/cg_vr/<a class="el" href="vr__server_8cxx_source.html">vr_server.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecgv.html">cgv</a></li><li class="navelem"><a class="el" href="namespacecgv_1_1gui.html">gui</a></li><li class="navelem"><a class="el" href="classcgv_1_1gui_1_1vr__server.html">vr_server</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
